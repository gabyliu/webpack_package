{"version":3,"sources":["webpack:///webpack/bootstrap 51b69bebcc70ab21c6c9?9fe5*****","webpack:///./F:/一些尝试/component/webpack_package/src/widgets/fileUploader/index.js?bbb5","webpack:///./src/widgets/fileUploader/index.less?7e43"],"names":["ImagePick","React","createClass","getInitialState","img","props","data","load","show","progress","isDragover","isHover","handleClick","refs","imagePickInput","getDOMNode","click","handleChange","e","fileList","target","files","showPreview","fileStatus","checkPattern","isPass","upload","response","status","file","reader","FileReader","readAsDataURL","onload","setState","result","bind","handleDragOver","stopPropagation","preventDefault","handleDrop","dt","dataTransfer","console","log","JSON","stringify","length","fileType","type","indexOf","replace","reg","format","size","handleDragLeave","uploading","loaded","total","d","index","responseValue","value","handle","_this","xhr","XMLHttpRequest","addEventListener","FormData","item","requestValue","append","name","lastModifiedDate","open","send","onreadystatechange","readyState","parse","handleMouseoverPick","state","handleMouseleavePick","handleClickDele","preview","render","classArea","extendClass","contentPickBtn","loadStyle","width","imagePickLoadArea","imagePickDeleArea","isNeedDele","text","dragover","SingleFilePick","substring","setting","id","request","base_resp","ret","classname","uploaderBtnContent","errMsg","label","Inner","isOpen","ImagePick1ImagePick","normal","hover","url","mediaType","mediaType2","mediaType3","v","handleImageChange","handleFile","stateResult","handleClickOpenSetting","stateIsopen","settingImagePick","settingSingleFilePick","document","getElementById"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACtCA;;;;AAEA,KAAIA,YAAYC,MAAMC,WAAN,CAAkB;AAAA;;AAC9BC,sBAAiB,2BAAU;AACvB,gBAAQ;AACJC,kBAAK,KAAKC,KAAL,CAAWC,IAAX,CAAgBF,GADjB;AAEJG,mBAAM;AACFC,uBAAM,CADJ;AAEFC,2BAAU;AAFR,cAFF;;AAOJC,yBAAY,CAPR;AAQJC,sBAAS;AARL,UAAR;AAUH,MAZ6B;AAa9BC,kBAAa,uBAAU;AACnB,cAAKC,IAAL,CAAUC,cAAV,CAAyBC,UAAzB,GAAsCC,KAAtC;AACH,MAf6B;AAgB9B;AACAC,mBAAc,sBAASC,CAAT,EAAW;AACrB,aAAIC,WAAWD,EAAEE,MAAF,CAASC,KAAxB;AACA,cAAKC,WAAL,CAAiBH,SAAS,CAAT,CAAjB;;AAEA,aAAII,aAAa,KAAKC,YAAL,CAAkBL,SAAS,CAAT,CAAlB,CAAjB;AACA,aAAGI,WAAWE,MAAd,EAAqB;AAAC;AAClB,kBAAKC,MAAL,CAAYP,SAAS,CAAT,CAAZ;AACH,UAFD,MAEK;AAAC;AACF,kBAAKQ,QAAL,CAAc,IAAd,EAAoBJ,WAAWK,MAA/B;AACH;AAEJ,MA5B6B;AA6B9B;AACAN,kBAAa,qBAASO,IAAT,EAAc;AACvB,aAAIC,SAAS,IAAIC,UAAJ,EAAb;AACAD,gBAAOE,aAAP,CAAqBH,IAArB;AACAC,gBAAOG,MAAP,GAAgB,UAASf,CAAT,EAAW;AACvB,kBAAKgB,QAAL,CAAc;AACV9B,sBAAK0B,OAAOK;AADF,cAAd;AAGH,UAJe,CAIdC,IAJc,CAIT,IAJS,CAAhB;AAKH,MAtC6B;AAuC9B;AACAC,qBAAgB,wBAASnB,CAAT,EAAW;AACvBA,WAAEoB,eAAF;AACApB,WAAEqB,cAAF;AACA,cAAKL,QAAL,CAAc;AACVxB,yBAAY;AADF,UAAd;AAGH,MA9C6B;AA+C9B;AACA8B,iBAAY,oBAAStB,CAAT,EAAW;AACnBA,WAAEoB,eAAF;AACApB,WAAEqB,cAAF;AACA,cAAKL,QAAL,CAAc;AACVxB,yBAAY;AADF,UAAd;AAGA,aAAI+B,KAAKvB,EAAEwB,YAAX;AACA,aAAIrB,QAAQoB,GAAGpB,KAAf;AACAsB,iBAAQC,GAAR,CAAYC,KAAKC,SAAL,CAAeL,EAAf,CAAZ;AACA,cAAKnB,WAAL,CAAiBD,MAAMA,MAAM0B,MAAN,GAAe,CAArB,CAAjB;;AAEA,aAAIxB,aAAa,KAAKC,YAAL,CAAkBH,MAAMA,MAAM0B,MAAN,GAAe,CAArB,CAAlB,CAAjB;AACA,aAAGxB,WAAWE,MAAd,EAAqB;AAAC;;AAElB,kBAAKC,MAAL,CAAYL,MAAMA,MAAM0B,MAAN,GAAe,CAArB,CAAZ;AACA1B,mBAAMA,MAAM0B,MAAN,GAAe,CAArB,IAA0B,KAA1B;AACH,UAJD,MAIK;AAAC;AACF,kBAAKpB,QAAL,CAAc,IAAd,EAAoBJ,WAAWK,MAA/B;AACH;AACD,gBAAO,KAAP;AACH,MApE6B;AAqE9B;AACAJ,mBAAc,sBAASK,IAAT,EAAc;AACxB,aAAImB,WAAWnB,KAAKoB,IAApB;AAAA,aACQtB,WAAW,EADnB;AAEA,aAAGqB,SAASE,OAAT,CAAiB,QAAjB,KAA8B,CAAjC,EAAmC;AAAC;AAChCF,wBAAWA,SAASG,OAAT,CAAiB,QAAjB,EAA2B,EAA3B,CAAX;AACA,iBAAG,KAAK9C,KAAL,CAAWC,IAAX,CAAgB8C,GAAhB,CAAoBC,MAApB,CAA2BH,OAA3B,CAAmCF,QAAnC,KAAgD,CAAnD,EAAqD;AAAC;AAClD,qBAAG,KAAK3C,KAAL,CAAWC,IAAX,CAAgB8C,GAAhB,CAAoBE,IAAvB,EAA4B;AAAC;AACzB,yBAAG,KAAKjD,KAAL,CAAWC,IAAX,CAAgB8C,GAAhB,CAAoBE,IAApB,IAA4BzB,KAAKyB,IAApC,EAAyC;AACrC3B,kCAASF,MAAT,GAAkB,IAAlB;AACH,sBAFD,MAEK;AACDE,kCAASF,MAAT,GAAkB,KAAlB;AACAE,kCAASC,MAAT,GAAkB,WAAlB;AACH;AACJ,kBAPD,MAOK;AAAC;AACFD,8BAASF,MAAT,GAAkB,IAAlB;AACH;AACJ,cAXD,MAWK;AAAC;AACFE,0BAASF,MAAT,GAAkB,KAAlB;AACAE,0BAASC,MAAT,GAAkB,cAAlB;AACH;AACJ,UAjBD,MAiBK;AAAC;AACFD,sBAASF,MAAT,GAAkB,KAAlB;AACAE,sBAASC,MAAT,GAAkB,cAAlB;AACH;AACD,gBAAOD,QAAP;AACH,MA/F6B;AAgG9B;AACA4B,sBAAiB,yBAASrC,CAAT,EAAW;AACxB,cAAKgB,QAAL,CAAc;AACVxB,yBAAY;AADF,UAAd;AAGH,MArG6B;AAsG9B;AACA8C,gBAAW,mBAASC,MAAT,EAAiBC,KAAjB,EAAuB;;AAE9B,cAAKxB,QAAL,CAAc;AACV3B,mBAAM;AACFC,uBAAM,CADJ;AAEFC,2BAAUgD,SAASC;AAFjB;AADI,UAAd;AAMH,MA/G6B;AAgH9B;AACA/B,eAAU,kBAASgC,CAAT,EAAY/B,MAAZ,EAAmB;AACzB,cAAKM,QAAL,CAAc;AACV3B,mBAAM;AACFC,uBAAM;AADJ;AADI,UAAd;AAKA,aAAIF,OAAO;AACPsD,oBAAO,KAAKvD,KAAL,CAAWC,IAAX,CAAgBuD,aADhB;AAEPjC,qBAAQA,MAFD;AAGPkC,oBAAOH;AAHA,UAAX;AAKA,cAAKtD,KAAL,CAAWC,IAAX,CAAgByD,MAAhB,CAAuBzD,IAAvB;AACH,MA7H6B;AA8H9B;AACAoB,aAAQ,gBAASG,IAAT,EAAc;AACjB,oBAASA,IAAT,EAAemC,KAAf,EAAqB;AAClB,iBAAIC,MAAM,IAAIC,cAAJ,EAAV;AAAA,iBACQpC,SAAS,IAAIC,UAAJ,EADjB;AAEA,iBAAIkC,IAAIvC,MAAR,EAAgB;AACZ;AACAuC,qBAAIvC,MAAJ,CAAWyC,gBAAX,CAA4B,UAA5B,EAAwC,UAASjD,CAAT,EAAY;AAChD8C,2BAAMR,SAAN,CAAgBtC,EAAEuC,MAAlB,EAA0BvC,EAAEwC,KAA5B;AACH,kBAFD,EAEG,KAFH;AAGA;AACA,qBAAIpD,OAAO,IAAI8D,QAAJ,EAAX;AACA,sBAAI,IAAIC,IAAR,IAAgBL,MAAM3D,KAAN,CAAYC,IAAZ,CAAiBgE,YAAjC,EAA8C;AAC1ChE,0BAAKiE,MAAL,CAAYF,IAAZ,EAAkBL,MAAM3D,KAAN,CAAYC,IAAZ,CAAiBgE,YAAjB,CAA8BD,IAA9B,CAAlB;AACH;AACD/D,sBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,IAApB;AACAvB,sBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,KAAK2C,IAAzB;AACAlE,sBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,KAAKoB,IAAzB;AACA3C,sBAAKiE,MAAL,CAAY,kBAAZ,EAAgC1C,KAAK4C,gBAArC;AACAnE,sBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,KAAKyB,IAAzB;AACAW,qBAAIS,IAAJ,CAAS,MAAT,EAAiB,wCAAjB,EAA2D,IAA3D;AACAT,qBAAIU,IAAJ,CAASrE,IAAT;AACA;AACA2D,qBAAIW,kBAAJ,GAAyB,UAAS1D,CAAT,EAAY;AACjC,yBAAI+C,IAAIY,UAAJ,IAAkB,CAAtB,EAAyB;AACrB,6BAAIZ,IAAIrC,MAAJ,IAAc,GAAlB,EAAuB;AACnBoC,mCAAMrC,QAAN,CAAekB,KAAKiC,KAAL,CAAWb,IAAItC,QAAf,CAAf,EAAyC,KAAzC;AACH;AACJ;AACJ,kBAND;AAOH;AACJ,UA7BA,EA6BCE,IA7BD,EA6BO,IA7BP,CAAD;AA8BH,MA9J6B;AA+J9B;AACAkD,0BAAqB,6BAAS7D,CAAT,EAAW;AAC5BA,WAAEoB,eAAF;AACApB,WAAEqB,cAAF;AACA,aAAG,KAAKyC,KAAL,CAAWrE,OAAX,IAAsB,CAAzB,EAA2B;AACvB,kBAAKuB,QAAL,CAAc;AACVvB,0BAAS;AADC,cAAd;AAGH;AAEJ,MAzK6B;AA0K9B;AACAsE,2BAAsB,8BAAS/D,CAAT,EAAW;AAC7BA,WAAEoB,eAAF;AACApB,WAAEqB,cAAF;AACA,cAAKL,QAAL,CAAc;AACVvB,sBAAS;AADC,UAAd;AAGH,MAjL6B;AAkL9B;AACAuE,sBAAiB,yBAAShE,CAAT,EAAW;AACxBA,WAAEoB,eAAF;AACApB,WAAEqB,cAAF;AACA,aAAIjC,OAAO;AACPsD,oBAAO,KAAKvD,KAAL,CAAWC,IAAX,CAAgBuD,aADhB;AAEPjC,qBAAQ,MAFD;AAGPkC,oBAAO;AAHA,UAAX;AAKA,cAAKzD,KAAL,CAAWC,IAAX,CAAgByD,MAAhB,CAAuBzD,IAAvB;AACA,cAAK4B,QAAL,CAAc;AACViD,sBAAS;AADC,UAAd;AAGH,MA/L6B;AAgM9BC,aAAQ,kBAAU;AACd,aAAIC,YAAY,mBAAmB,KAAKhF,KAAL,CAAWC,IAAX,CAAgBgF,WAAnD;AAAA,aACQC,iBAAiB,GADzB;AAAA,aAEQC,YAAY;AACRC,oBAAO,KAAKT,KAAL,CAAWzE,IAAX,CAAgBE,QAAhB,GAA2B,GAA3B,GAAiC;AADhC,UAFpB;AAAA,aAKQiF,oBAAoB,KAAKV,KAAL,CAAWzE,IAAX,CAAgBC,IAAhB,IAAwB,CAAxB,GAA4B;AAAA;AAAA,eAAK,WAAU,mBAAf;AAC5C;AAAA;AAAA,mBAAK,WAAU,SAAf;AACI,8CAAK,WAAU,aAAf,EAA6B,OAAOgF,SAApC;AADJ;AAD4C,UAA5B,GAIX,IATjB;;AAUA;AACQG,6BAAqB,KAAKtF,KAAL,CAAWC,IAAX,CAAgBsF,UAAhB,IAA8B,KAAKZ,KAAL,CAAW5E,GAAzC,IAAgD,KAAK4E,KAAL,CAAWrE,OAAX,IAAsB,CAAvE,GAA4E;AAAA;AAAA,eAAK,WAAU,mBAAf;AAC5F;AAAA;AAAA,mBAAG,MAAK,cAAR,EAAuB,WAAU,cAAjC,EAAgD,SAAS,KAAKuE,eAA9D;AAAA;AAAA;AAD4F,UAA5E,GAEX,IAbjB;;AAeA,cAAKF,KAAL,CAAWrE,OAAX,IAAoB,CAApB,GAAuB0E,aAAa,QAApC,GAA6C,IAA7C;AACA,aAAG,KAAKL,KAAL,CAAWtE,UAAX,IAAuB,CAA1B,EAA4B;AACxB2E,0BAAa,WAAb;AACA,kBAAKhF,KAAL,CAAWC,IAAX,CAAgBuF,IAAhB,CAAqBC,QAArB,GAAgCP,iBAAiB,KAAKlF,KAAL,CAAWC,IAAX,CAAgBuF,IAAhB,CAAqBC,QAAtE,GAAiF,IAAjF;AACH;AACD;AACA,gBACQ;AAAA;AAAA,eAAK,WAAWT,SAAhB,EAA2B,aAAa,KAAKN,mBAA7C,EAAkE,cAAc,KAAKE,oBAArF,EAA2G,aAAa,KAAK1B,eAA7H,EAA8I,SAAS,KAAK3C,WAA5J,EAAyK,YAAY,KAAKyB,cAA1L,EAA0M,QAAQ,KAAKG,UAAvN;AACI;AAAA;AAAA,mBAAK,WAAU,WAAf;AACI,gDAAO,KAAI,gBAAX,EAA4B,UAAU,KAAKvB,YAA3C,EAAyD,WAAU,yBAAnE,EAA6F,MAAK,MAAlG,GADJ;AAEI;AAAA;AAAA,uBAAK,WAAU,uBAAf;AAAwCsE;AAAxC,kBAFJ;AAGK,sBAAKP,KAAL,CAAW5E,GAAX,GAAgB,6BAAK,WAAU,2BAAf,EAA2C,KAAI,2BAA/C,EAA2E,KAAK,KAAK4E,KAAL,CAAW5E,GAA3F,GAAhB,GAAqH;AAH1H,cADJ;AAMKuF,8BANL;AAOKD;AAPL,UADR;AAYH;AAlO6B,EAAlB,CAAhB;;AAqOA;AACA,KAAIK,iBAAiB9F,MAAMC,WAAN;AAAA;;AACjBC,sBAAiB,2BAAU;AACvBwC,iBAAQC,GAAR,CAAY,gCAAZ;AACA,gBAAQ;AACJuC,sBAAS,KAAK9E,KAAL,CAAWC,IAAX,CAAgB6E,OADrB;AAEJ5E,mBAAM;AACFC,uBAAM,CADJ;AAEFC,2BAAU;AAFR,cAFF;AAMJmB,qBAAQ,EANJ;AAOJlB,yBAAY,CAPR;AAQJC,sBAAS;AARL,UAAR;AAUH,MAbgB;AAcjB6C,gBAAW,mBAASC,MAAT,EAAiBC,KAAjB,EAAuB;AAC9Bf,iBAAQC,GAAR,CAAY,WAAZ;AACA,cAAKV,QAAL,CAAc;AACV3B,mBAAM;AACFC,uBAAM,CADJ;AAEFC,2BAAUgD,SAASC;AAFjB;AADI,UAAd;AAMH,MAtBgB;AAuBhBhC,aAAQ,gBAASG,IAAT,EAAc;AACnBc,iBAAQC,GAAR,CAAY,QAAZ;AACC,oBAASf,IAAT,EAAemC,KAAf,EAAqB;AAClB,iBAAIC,MAAM,IAAIC,cAAJ,EAAV;AAAA,iBACQpC,SAAS,IAAIC,UAAJ,EADjB;AAEA,iBAAIkC,IAAIvC,MAAR,EAAgB;AACZ;AACAuC,qBAAIvC,MAAJ,CAAWyC,gBAAX,CAA4B,UAA5B,EAAwC,UAASjD,CAAT,EAAY;AAChD8C,2BAAMR,SAAN,CAAgBtC,EAAEuC,MAAlB,EAA0BvC,EAAEwC,KAA5B;AACH,kBAFD,EAEG,KAFH;AAGA;AACA,qBAAIpD,OAAO,IAAI8D,QAAJ,EAAX;AACA,sBAAI,IAAIC,IAAR,IAAgBL,MAAM3D,KAAN,CAAYC,IAAZ,CAAiBgE,YAAjC,EAA8C;AAC1ChE,0BAAKiE,MAAL,CAAYF,IAAZ,EAAkBL,MAAM3D,KAAN,CAAYC,IAAZ,CAAiBgE,YAAjB,CAA8BD,IAA9B,CAAlB;AACH;AACD/D,sBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,IAApB;AACAvB,sBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,KAAK2C,IAAzB;AACAlE,sBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,KAAKoB,IAAzB;AACA3C,sBAAKiE,MAAL,CAAY,kBAAZ,EAAgC1C,KAAK4C,gBAArC;AACAnE,sBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,KAAKyB,IAAzB;AACAW,qBAAIS,IAAJ,CAAS,MAAT,EAAiB,wCAAjB,EAA2D,IAA3D;AACAT,qBAAIU,IAAJ,CAASrE,IAAT;AACA;AACA2D,qBAAIW,kBAAJ,GAAyB,UAAS1D,CAAT,EAAY;AACjC,yBAAI+C,IAAIY,UAAJ,IAAkB,CAAtB,EAAyB;AACrB,6BAAIZ,IAAIrC,MAAJ,IAAc,GAAlB,EAAuB;AACnBoC,mCAAMrC,QAAN,CAAekB,KAAKiC,KAAL,CAAWb,IAAItC,QAAf,CAAf,EAAyC,KAAzC;AACH;AACJ;AACJ,kBAND;AAOH;AACJ,UA7BA,EA6BCE,IA7BD,EA6BO,IA7BP,CAAD;AA8BH,MAvDgB;AAwDjB;AACAkD,0BAAqB,+BAAU;;AAE3BpC,iBAAQC,GAAR,CAAY,qBAAZ;AACA,cAAKV,QAAL,CAAc;AACVvB,sBAAS;AADC,UAAd;AAGH,MA/DgB;AAgEjBsE,2BAAsB,gCAAU;AAC5BtC,iBAAQC,GAAR,CAAY,sBAAZ;AACA,cAAKV,QAAL,CAAc;AACVvB,sBAAS;AADC,UAAd;AAGH,MArEgB;AAsEjB;AACA0B,qBAAgB,wBAASnB,CAAT,EAAW;AACvBA,WAAEoB,eAAF;AACApB,WAAEqB,cAAF;AACAI,iBAAQC,GAAR,CAAY,gBAAZ;AACA,cAAKV,QAAL,CAAc;AACVxB,yBAAY;AADF,UAAd;AAGH,MA9EgB;;AAgFjB8B,iBAAY,oBAAStB,CAAT,EAAW;AACnBA,WAAEoB,eAAF;AACApB,WAAEqB,cAAF;AACA,cAAKL,QAAL,CAAc;AACVxB,yBAAY;AADF,UAAd;AAGA,aAAI+B,KAAKvB,EAAEwB,YAAX;AACA,aAAIrB,QAAQoB,GAAGpB,KAAf;AACAsB,iBAAQC,GAAR,CAAYC,KAAKC,SAAL,CAAeL,EAAf,CAAZ;AACA,cAAKnB,WAAL,CAAiBD,MAAMA,MAAM0B,MAAN,GAAe,CAArB,CAAjB;;AAEA,aAAIxB,aAAa,KAAKC,YAAL,CAAkBH,MAAMA,MAAM0B,MAAN,GAAe,CAArB,CAAlB,CAAjB;AACA,aAAGxB,WAAWE,MAAd,EAAqB;AAAC;;AAElB,kBAAKC,MAAL,CAAYL,MAAMA,MAAM0B,MAAN,GAAe,CAArB,CAAZ;AACA1B,mBAAMA,MAAM0B,MAAN,GAAe,CAArB,IAA0B,KAA1B;AACH,UAJD,MAIK;AAAC;AACF,kBAAKpB,QAAL,CAAc,IAAd,EAAoBJ,WAAWK,MAA/B;AACH;AACD,gBAAO,KAAP;AACH,MApGgB;AAqGjBJ,mBAAc,sBAASK,IAAT,EAAc;AACxB,aAAImB,WAAWnB,KAAKoB,IAApB;AAAA,aACQtB,WAAW,EADnB;;AAGA,aAAGE,KAAK2C,IAAL,CAAUwB,SAAV,CAAoBnE,KAAK2C,IAAL,CAAUzB,MAAV,GAAiB,CAArC,EAAwClB,KAAK2C,IAAL,CAAUzB,MAAlD,KAA6D,KAAK1C,KAAL,CAAWC,IAAX,CAAgB2F,OAAhB,CAAwB7C,GAAxB,CAA4BC,MAA5F,EAAmG;AAAC;AAChG,iBAAG,KAAKhD,KAAL,CAAWC,IAAX,CAAgB2F,OAAhB,CAAwB7C,GAAxB,CAA4BE,IAA/B,EAAoC;AAChC,qBAAG,KAAKjD,KAAL,CAAWC,IAAX,CAAgB2F,OAAhB,CAAwB7C,GAAxB,CAA4BE,IAA5B,GAAmCzB,KAAKyB,IAA3C,EAAgD;AAAC;AAC7C3B,8BAASF,MAAT,GAAkB,IAAlB;AACH,kBAFD,MAEK;AAAC;AACFE,8BAASF,MAAT,GAAkB,KAAlB;AACAE,8BAASC,MAAT,GAAkB,WAAlB;AACA,0BAAKM,QAAL,CAAc;AACVN,iCAAQD,SAASC;AADP,sBAAd;AAGH;AACJ,cAVD,MAUK;AACDD,0BAASF,MAAT,GAAkB,IAAlB;AACH;AACJ,UAdD,MAcK;AACDE,sBAASF,MAAT,GAAkB,KAAlB;AACAE,sBAASC,MAAT,GAAkB,cAAlB;AACA,kBAAKM,QAAL,CAAc;AACVN,yBAAQD,SAASC;AADP,cAAd;AAGH;AACD,gBAAOD,QAAP;AAEH,MAhIgB;AAiIjBA,eAAU,kBAASgC,CAAT,EAAY/B,MAAZ,EAAoB4C,IAApB,EAAyB;AAC/B,cAAKtC,QAAL,CAAc;AACV3B,mBAAM;AACFC,uBAAM;AADJ;AADI,UAAd;AAKA,aAAIF,OAAO;AACPkE,mBAAMA,IADC;AAEP0B,iBAAI,KAAK7F,KAAL,CAAWC,IAAX,CAAgB2F,OAAhB,CAAwBC,EAFrB;AAGPtE,qBAAQA,MAHD;AAIPkC,oBAAOH;AAJA,UAAX;AAMA,cAAKtD,KAAL,CAAWC,IAAX,CAAgByD,MAAhB,CAAuBzD,IAAvB;AACH,MA9IgB;AA+IjBgB,kBAAa,qBAASO,IAAT,EAAc;AACvB,aAAIC,SAAS,IAAIC,UAAJ,EAAb;AACAD,gBAAOE,aAAP,CAAqBH,IAArB;AACAC,gBAAOG,MAAP,GAAgB,UAASf,CAAT,EAAW;AACvB,kBAAKgB,QAAL,CAAc;AACViD,0BAAStD,KAAK2C;AADJ,cAAd;AAGH,UAJe,CAIdpC,IAJc,CAIT,IAJS,CAAhB;AAKH;AAvJgB,kDAwJT,gBAASP,IAAT,EAAc;AACjB,gBAASA,IAAT,EAAemC,KAAf,EAAqB;AAClB,aAAIC,MAAM,IAAIC,cAAJ,EAAV;AAAA,aACQpC,SAAS,IAAIC,UAAJ,EADjB;AAEA,aAAIkC,IAAIvC,MAAR,EAAgB;AACZ;AACAuC,iBAAIvC,MAAJ,CAAWyC,gBAAX,CAA4B,UAA5B,EAAwC,UAASjD,CAAT,EAAY;AAChD8C,uBAAMR,SAAN,CAAgBtC,EAAEuC,MAAlB,EAA0BvC,EAAEwC,KAA5B;AACH,cAFD,EAEG,KAFH;AAGA;AACA,iBAAIpD,OAAO,IAAI8D,QAAJ,EAAX;AACA,kBAAI,IAAIC,IAAR,IAAgBL,MAAM3D,KAAN,CAAYC,IAAZ,CAAiB2F,OAAjB,CAAyBE,OAAzB,CAAiC7F,IAAjD,EAAsD;AAClDA,sBAAKiE,MAAL,CAAYF,IAAZ,EAAkBL,MAAM3D,KAAN,CAAYC,IAAZ,CAAiB2F,OAAjB,CAAyBE,OAAzB,CAAiC7F,IAAjC,CAAsC+D,IAAtC,CAAlB;AACH;AACD/D,kBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,IAApB;AACAvB,kBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,KAAK2C,IAAzB;AACAlE,kBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,KAAKoB,IAAzB;AACA3C,kBAAKiE,MAAL,CAAY,kBAAZ,EAAgC1C,KAAK4C,gBAArC;AACAnE,kBAAKiE,MAAL,CAAY,MAAZ,EAAoB1C,KAAKyB,IAAzB;AACAW,iBAAIS,IAAJ,CAAS,MAAT,EAAiB,wCAAjB,EAA2D,IAA3D;AACAT,iBAAIU,IAAJ,CAASrE,IAAT;AACA;AACA2D,iBAAIW,kBAAJ,GAAyB,UAAS1D,CAAT,EAAY;AACjC,qBAAI+C,IAAIY,UAAJ,IAAkB,CAAtB,EAAyB;AACrB,yBAAIZ,IAAIrC,MAAJ,IAAc,GAAlB,EAAuB;AACnB,iCAAOiB,KAAKiC,KAAL,CAAWb,IAAItC,QAAf,EAAyByE,SAAzB,CAAmCC,GAA1C;AACI,kCAAK,CAAL;AACIrC,uCAAM9B,QAAN,CAAe;AACXN,6CAAQ;AADG,kCAAf;AAGAoC,uCAAMrC,QAAN,CAAekB,KAAKiC,KAAL,CAAWb,IAAItC,QAAf,CAAf,EAAyC,KAAzC,EAAgDE,KAAK2C,IAArD;AACA;;AAEJ;AACIR,uCAAM9B,QAAN,CAAe;AACXN,6CAAQ;AADG,kCAAf;AAGAoC,uCAAMrC,QAAN,CAAekB,KAAKiC,KAAL,CAAWb,IAAItC,QAAf,CAAf,EAAyC,cAAzC,EAAyDE,KAAK2C,IAA9D;AACA;AAbR;AAgBH;AACJ,kBAnBD,MAmBM;AACFR,2BAAMrC,QAAN,CAAe,EAAf,EAAmB,cAAnB,EAAmCE,KAAK2C,IAAxC;AACH;AACJ,cAvBD;AAwBH;AACJ,MA9CA,EA8CC3C,IA9CD,EA8CO,IA9CP,CAAD;AA+CH,EAxMgB,0DAyMA,yBAASX,CAAT,EAAW;AACxBA,OAAEoB,eAAF;AACApB,OAAEqB,cAAF;AACAI,aAAQC,GAAR,CAAY,iBAAZ;AACA,UAAKV,QAAL,CAAc;AACVxB,qBAAY;AADF,MAAd;AAGH,EAhNgB,0DAkNA,yBAASQ,CAAT,EAAW;AACxBA,OAAEoB,eAAF;AACApB,OAAEqB,cAAF;AACA,SAAIjC,OAAO;AACP4F,aAAI,KAAK7F,KAAL,CAAWC,IAAX,CAAgB2F,OAAhB,CAAwBC,EADrB;AAEPtE,iBAAQ,MAFD;AAGPkC,gBAAO;AAHA,MAAX;AAKA,UAAKzD,KAAL,CAAWC,IAAX,CAAgByD,MAAhB,CAAuBzD,IAAvB;AACA,UAAK4B,QAAL,CAAc;AACViD,kBAAS;AADC,MAAd;AAGH,EA9NgB,6DA+NG,8BAAU;AAC1BxC,aAAQC,GAAR,CAAY,2BAAZ;AACH,EAjOgB,iDAkOT,kBAAU;AACd,SAAIyC,YAAY,KAAKhF,KAAL,CAAWC,IAAX,CAAgB2F,OAAhB,CAAwBK,SAAxB,GAAoC,kBAAkB,KAAKjG,KAAL,CAAWC,IAAX,CAAgB2F,OAAhB,CAAwBK,SAA9E,GAA0F,cAA1G;AAAA,SACId,YAAY;AACRC,gBAAO,KAAKT,KAAL,CAAWzE,IAAX,CAAgBE,QAAhB,GAA2B,GAA3B,GAAiC;AADhC,MADhB;AAAA,SAII8F,qBAAqB;AAAA;AAAA,WAAK,WAAU,sBAAf;AACjB,sCAAK,WAAU,IAAf,GADiB;AAEjB;AAAA;AAAA,eAAK,WAAU,MAAf;AAAA;AAAA;AAFiB,MAJzB;AAAA,SAQIC,SAAS,EARb;AASI;;;;;;;;;AASJ,aAAO,KAAKxB,KAAL,CAAWpD,MAAlB;AACI,cAAK,cAAL;AACI4E,sBAAS,SAAT;AACA;;AAEJ,cAAK,WAAL;AACIA,sBAAS,QAAT;AACA;;AAEJ,cAAK,cAAL;AACIA,sBAAS,MAAT;AACA;AAXR;AAaAnB,iBAAY,KAAKL,KAAL,CAAWrE,OAAX,GAAqB0E,YAAY,QAAjC,GAA4CA,SAAxD;AACAkB,0BAAqB,KAAKvB,KAAL,CAAWzE,IAAX,CAAgBC,IAAhB,GAAuB;AAAA;AAAA,WAAK,WAAU,kBAAf;AAChC;AAAA;AAAA,eAAK,WAAU,SAAf;AACI,0CAAK,WAAU,aAAf,EAA6B,OAAOgF,SAApC;AADJ;AADgC,MAAvB,GAIJ,KAAKR,KAAL,CAAWtE,UAAX,GAAwB;AAAA;AAAA,WAAK,WAAU,+BAAf;AAAA;AAAA,MAAxB,GAEA6F,kBANjB;AAOA,YACI;AAAA;AAAA,WAAK,WAAU,mBAAf;AACK,cAAKlG,KAAL,CAAWC,IAAX,CAAgB2F,OAAhB,CAAwBQ,KAAxB,GAAgC;AAAA;AAAA,eAAO,WAAU,WAAjB;AAA8B,kBAAKpG,KAAL,CAAWC,IAAX,CAAgB2F,OAAhB,CAAwBQ;AAAtD,UAAhC,GAAqG,IAD1G;AAEI;AAAA;AAAA,eAAK,WAAWpB,SAAhB,EAA2B,aAAa,KAAKN,mBAA7C,EAAkE,cAAc,KAAKE,oBAArF,EAA2G,aAAa,KAAK1B,eAA7H,EAA8I,SAAS,KAAK3C,WAA5J,EAAyK,YAAY,KAAKyB,cAA1L,EAA0M,QAAQ,KAAKG,UAAvN;AACI;AAAA;AAAA,mBAAK,WAAU,UAAf;AACI,gDAAO,KAAI,eAAX,EAA2B,UAAU,KAAKvB,YAA1C,EAAwD,WAAU,wBAAlE,EAA2F,MAAK,MAAhG,GADJ;AAEKsF;AAFL,cADJ;AAMK,kBAAKvB,KAAL,CAAWG,OAAX,GAAqB;AAAA;AAAA,mBAAK,WAAU,kBAAf;AACb,sBAAKH,KAAL,CAAWpD,MAAX,IAAqB,KAArB,IAA8B,CAAC,KAAKoD,KAAL,CAAWpD,MAA1C,GAAmD,2BAAG,WAAU,QAAb,GAAnD,GAAgF,IADnE;AAEb,sBAAKoD,KAAL,CAAWG,OAFE;AAGd;AAAA;AAAA,uBAAM,WAAU,QAAhB;AAA0BqB;AAA1B,kBAHc;AAId;AAAA;AAAA,uBAAG,WAAU,WAAb,EAAyB,MAAK,cAA9B,EAA6C,SAAS,KAAKtB,eAA3D;AAAA;AAAA;AAJc,cAArB,GAKY;AAXjB;AAFJ,MADJ;AAmBH,EA7RgB,uBAArB;;AAgSA,KAAIwB,QAAQzG,MAAMC,WAAN,CAAkB;AAAA;;AAC1BC,sBAAiB,2BAAU;AAAA;;AACvB,gBAAQ;AACJwG,qBAAQ;AACJ3G,4BAAW,KADP;AAEJ+F,iCAAgB;AAFZ,cADJ;AAKJa,kCAAqB;AACjBX,0BAAS;AACLC,yBAAI,WADC;AAELI,gCAAW,sBAFN;AAGLG,4BAAO,qBAHF;AAILZ,2BAAM;AACFgB,iCAAQ,MADN;AAEFC,gCAAO;AAFL,sBAJD;AAQL1D,0BAAK;AACDC,iCAAQ,KADP;AAEDC,+BAAM,OAAO;AAFZ,sBARA;AAYL6C,8BAAS,EAAC;AACNY,8BAAK,wCADA;AAELzG,+BAAM;AACF0G,wCAAW,GADT;AAEFC,yCAAY,GAFV;AAGFC,yCAAY;AAHV;AAFD;AAZJ,kBADQ;AAsBjBpD,wBAAO,IAtBU;AAuBjBqB,0BAAS,EAvBQ;AAwBjBpB,yBAAQ,KAAKA;AAxBI,cALjB;AA+BJ/D,wBAAW;AACPsF,8BAAa,yBADN,EACgC;AACvClF,sBAAK,8EAFE,EAE6E;AACpFgD,sBAAK;AACDC,6BAAQ,KADP,EACa;AACdC,2BAAM,KAAK,IAFV,CAEc;AAFd,kBAHE;AAOPuC,uBAAM;AACFC,+BAAU,MADR,CACc;AADd,kBAPC;AAUPF,6BAAY,IAVL,EAUU;AACjBO,0BAAS,wCAXF,EAW2C;AAClD7B,+BAAc,EAAC;AACX0C,gCAAW,GADD;AAEVC,iCAAY,GAFF;AAGVC,iCAAY;AAHF,kBAZP;AAiBPrD,gCAAe,EAAC;AACZqC,yBAAI,WADO;AAEXiB,wBAAG;AAFQ,kBAjBR;AAqBPpD,yBAAQ,KAAKqD,iBArBN,CAqBuB;AArBvB,cA/BP;AAsDJrB,6BAAgB;AACZE;AACIQ,4BAAO,wBADX;AAEIP,yBAAI,gBAFR;AAGII,gCAAW;AAHf,uDAIW,eAJX,oCAKS,EAAC;AACFjD,6BAAQ,KADP,EACc;AACfC,2BAAM,OAAO,IAAP,GAAc,IAAd,GAAqB,IAF1B,CAE8B;AAF9B,kBALT,wCASa,EAAC;AACNyD,0BAAK,wCADA;AAELzG,2BAAM;AACF0G,oCAAW,GADT;AAEFC,qCAAY,GAFV;AAGFC,qCAAY;AAHV;AAFD,kBATb,YADY;AAmBZnD,yBAAQ,KAAKsD,UAnBD;AAoBZvD,wBAAO,IApBK;AAqBZqB,0BAAS,EArBG,CAqBD;AArBC,cAtDZ;AA6EJhD,qBAAQ;AACJnC,4BAAW,EADP;AAEJ+F,iCAAgB;AAFZ;AA7EJ,UAAR;AAkFH,MApFyB;AAqF1B;AACAsB,iBAAY,oBAASF,CAAT,EAAW;AACnB,aAAIG,cAAc,KAAKtC,KAAL,CAAW7C,MAA7B;AACAmF,qBAAYH,EAAEjB,EAAd,IAAoBrD,KAAKC,SAAL,CAAeqE,CAAf,CAApB;AACA,cAAKjF,QAAL,CAAc;AACVC,qBAAQmF;AADE,UAAd;AAGH,MA5FyB;AA6F1BF,wBAAmB,2BAASD,CAAT,EAAW;AAC1B,aAAIG,cAAc,KAAKtC,KAAL,CAAW7C,MAA7B;AACAmF,qBAAYH,EAAEvD,KAAF,CAAQsC,EAApB,IAA0BrD,KAAKC,SAAL,CAAeqE,CAAf,CAA1B;AACA,cAAKjF,QAAL,CAAc;AACVC,qBAAQmF;AADE,UAAd;AAGH,MAnGyB;AAoG1BC,6BAAwB,gCAAS3D,KAAT,EAAgB1C,CAAhB,EAAkB;AACtC,aAAIsG,cAAc,KAAKxC,KAAL,CAAW2B,MAA7B;AACAa,qBAAY5D,KAAZ,IAAqB,CAAC4D,YAAY5D,KAAZ,CAAtB;;AAEA,cAAK1B,QAAL,CAAc;AACVyE,qBAAQa;AADE,UAAd;AAGH,MA3GyB;AA4G1BpC,aAAQ,kBAAU;AACd,aAAIqC,mBAAmB5E,KAAKC,SAAL,CAAe,KAAKkC,KAAL,CAAWhF,SAA1B,EAAqC,IAArC,EAA2C,IAA3C,CAAvB;AAAA,aACI0H,wBAAwB7E,KAAKC,SAAL,CAAe,KAAKkC,KAAL,CAAWe,cAA1B,EAA0C,IAA1C,EAAgD,IAAhD,CAD5B;AAEA,gBACI;AAAA;AAAA,eAAK,WAAU,OAAf;AACI;AAAA;AAAA,mBAAI,WAAW,KAAKf,KAAL,CAAW2B,MAAX,CAAkB3G,SAAlB,GAA8B,mBAA9B,GAAoD,oBAAnE,EAAyF,SAAS,KAAKuH,sBAAL,CAA4BnF,IAA5B,CAAiC,IAAjC,EAAuC,WAAvC,CAAlG;AAAA;AAAA,cADJ;AAEK,kBAAK4C,KAAL,CAAW2B,MAAX,CAAkB3G,SAAlB,GAA8B;AAAA;AAAA,mBAAK,WAAU,SAAf;AAA0ByH;AAA1B,cAA9B,GAAkF,IAFvF;AAGI,iCAAC,SAAD,IAAW,MAAM,KAAKzC,KAAL,CAAWhF,SAA5B,GAHJ;AAII;AAAA;AAAA,mBAAG,WAAU,QAAb;AAAA;AAEI,gDAFJ;AAGK,sBAAKgF,KAAL,CAAW7C,MAAX,CAAkBnC;AAHvB,cAJJ;AASI,4CATJ;AAUI,4CAVJ;AAWI,4CAXJ;AAaI;AAAA;AAAA,mBAAI,WAAW,KAAKgF,KAAL,CAAW2B,MAAX,CAAkBZ,cAAlB,GAAmC,mBAAnC,GAAyD,oBAAxE,EAA8F,SAAS,KAAKwB,sBAAL,CAA4BnF,IAA5B,CAAiC,IAAjC,EAAuC,gBAAvC,CAAvG;AAAA;AAAA,cAbJ;AAcK,kBAAK4C,KAAL,CAAW2B,MAAX,CAAkBZ,cAAlB,GAAmC;AAAA;AAAA,mBAAK,WAAU,SAAf;AAA0B2B;AAA1B,cAAnC,GAA4F,IAdjG;AAeI,iCAAC,cAAD,IAAgB,MAAM,KAAK1C,KAAL,CAAWe,cAAjC,GAfJ;AAgBI;AAAA;AAAA,mBAAG,WAAU,QAAb;AAAA;AAEI,gDAFJ;AAGK,sBAAKf,KAAL,CAAW7C,MAAX,CAAkB4D;AAHvB,cAhBJ;AAqBI,4CArBJ;AAsBI,4CAtBJ;AAuBI;AAvBJ,UADJ;AA2BH;AA1IyB,EAAlB,CAAZ;;AA6IA9F,OAAMmF,MAAN,CACQ,oBAAC,KAAD,OADR,EAEQuC,SAASC,cAAT,CAAwB,OAAxB,CAFR;;SAKQ5H,S,GAAAA,S;SAAW+F,c,GAAAA,c;SAAgBW,K,GAAAA,K;;;;;;;AC1pBnC,0C","file":"widgets\\fileUploader\\index.51b6.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 51b69bebcc70ab21c6c9","import './index.less';\r\n\r\nvar ImagePick = React.createClass({\r\n    getInitialState: function(){\r\n        return ({\r\n            img: this.props.data.img,\r\n            load: {\r\n                show: 0,\r\n                progress: 0\r\n            },\r\n\r\n            isDragover: 0,\r\n            isHover: 0\r\n        })\r\n    },\r\n    handleClick: function(){\r\n        this.refs.imagePickInput.getDOMNode().click();\r\n    },\r\n    //µã»÷ÉÏ´«\r\n    handleChange: function(e){\r\n        var fileList = e.target.files;\r\n        this.showPreview(fileList[0]);\r\n\r\n        var fileStatus = this.checkPattern(fileList[0]);\r\n        if(fileStatus.isPass){//·ûºÏ¸ñÊ½\r\n            this.upload(fileList[0]);\r\n        }else{//²»·ûºÏ¸ñÊ½\r\n            this.response(null, fileStatus.status);\r\n        }\r\n\r\n    },\r\n    //Õ¹Ê¾Ô¤ÀÀÍ¼\r\n    showPreview: function(file){\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function(e){\r\n            this.setState({\r\n                img: reader.result\r\n            });\r\n        }.bind(this)\r\n    },\r\n    //ÍÏµ½ÉÏÃæ\r\n    handleDragOver: function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        this.setState({\r\n            isDragover: 1\r\n        });\r\n    },\r\n    //ÒÑ¾­¶ª½øÈ¥\r\n    handleDrop: function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        this.setState({\r\n            isDragover: 0\r\n        });\r\n        var dt = e.dataTransfer;\r\n        var files = dt.files;\r\n        console.log(JSON.stringify(dt));\r\n        this.showPreview(files[files.length - 1]);\r\n\r\n        var fileStatus = this.checkPattern(files[files.length - 1]);\r\n        if(fileStatus.isPass){//·ûºÏ¸ñÊ½\r\n\r\n            this.upload(files[files.length - 1]);\r\n            files[files.length - 1] = false;\r\n        }else{//²»·ûºÏ¸ñÊ½\r\n            this.response(null, fileStatus.status);\r\n        }\r\n        return false;\r\n    },\r\n    //¼ì²éÎÄ¼þ¸ñÊ½\r\n    checkPattern: function(file){\r\n        var fileType = file.type,\r\n                response = {};\r\n        if(fileType.indexOf('image/') >= 0){//ÊÇÍ¼Æ¬\r\n            fileType = fileType.replace('image/', '');\r\n            if(this.props.data.reg.format.indexOf(fileType) >= 0){//·ûºÏÍ¼Æ¬¸ñÊ½\r\n                if(this.props.data.reg.size){//ÓÐ´óÐ¡ÏÞÖÆ\r\n                    if(this.props.data.reg.size >= file.size){\r\n                        response.isPass = true;\r\n                    }else{\r\n                        response.isPass = false;\r\n                        response.status = 'oversized';\r\n                    }\r\n                }else{//Ã»ÓÐ´óÐ¡ÏÞÖÆ\r\n                    response.isPass = true;\r\n                }\r\n            }else{//²»·ûºÏÍ¼Æ¬¸ñÊ½\r\n                response.isPass = false;\r\n                response.status = 'format error';\r\n            }\r\n        }else{//²»ÊÇÍ¼Æ¬ ¸ñÊ½´íÎó\r\n            response.isPass = false;\r\n            response.status = 'format error';\r\n        }\r\n        return response;\r\n    },\r\n    //ÍÏ×§Àë¿ª\r\n    handleDragLeave: function(e){\r\n        this.setState({\r\n            isDragover: 0\r\n        });\r\n    },\r\n    //ÉÏ´«ÖÐ\r\n    uploading: function(loaded, total){\r\n\r\n        this.setState({\r\n            load: {\r\n                show: 1,\r\n                progress: loaded / total\r\n            }\r\n        })\r\n    },\r\n    //²»¹Ü³É¹¦Ê§°Ü£¬ÕâÀïÅ×ÊÂ¼þ\r\n    response: function(d, status){\r\n        this.setState({\r\n            load: {\r\n                show: 0\r\n            }\r\n        });\r\n        var data = {\r\n            index: this.props.data.responseValue,\r\n            status: status,\r\n            value: d\r\n        };\r\n        this.props.data.handle(data);\r\n    },\r\n    //ÉÏ´«Í¼Æ¬µ½·þÎñÆ÷\r\n    upload: function(file){\r\n        (function(file, _this){\r\n            var xhr = new XMLHttpRequest(),\r\n                    reader = new FileReader();\r\n            if (xhr.upload) {\r\n                // ÉÏ´«ÖÐ\r\n                xhr.upload.addEventListener(\"progress\", function(e) {\r\n                    _this.uploading(e.loaded, e.total);\r\n                }, false);\r\n                // ¿ªÊ¼ÉÏ´«\r\n                var data = new FormData();\r\n                for(var item in _this.props.data.requestValue){\r\n                    data.append(item, _this.props.data.requestValue[item]);\r\n                }\r\n                data.append('file', file);\r\n                data.append('name', file.name);\r\n                data.append('type', file.type);\r\n                data.append('lastModifiedDate', file.lastModifiedDate);\r\n                data.append('size', file.size);\r\n                xhr.open(\"POST\", '/cgi-bin/mmemoticonmgr-bin/uploadmedia', true);\r\n                xhr.send(data);\r\n                // ÎÄ¼þÉÏ´«³É¹¦»òÊÇÊ§°Ü\r\n                xhr.onreadystatechange = function(e) {\r\n                    if (xhr.readyState == 4) {\r\n                        if (xhr.status == 200) {\r\n                            _this.response(JSON.parse(xhr.response), 'suc');\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        }(file, this))\r\n    },\r\n    //Êó±êÔÚ×é¼þÉÏ\r\n    handleMouseoverPick: function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        if(this.state.isHover != 1){\r\n            this.setState({\r\n                isHover: 1\r\n            });\r\n        }\r\n\r\n    },\r\n    //Êó±êÀë¿ª\r\n    handleMouseleavePick: function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        this.setState({\r\n            isHover: 0\r\n        });\r\n    },\r\n    //É¾³ýÊÂ¼þ\r\n    handleClickDele: function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        var data = {\r\n            index: this.props.data.responseValue,\r\n            status: 'dele',\r\n            value: null\r\n        };\r\n        this.props.data.handle(data);\r\n        this.setState({\r\n            preview: null\r\n        });\r\n    },\r\n    render: function(){\r\n        var classArea = 'imagePickArea ' + this.props.data.extendClass,\r\n                contentPickBtn = '+',\r\n                loadStyle = {\r\n                    width: this.state.load.progress * 100 + '%'\r\n                },\r\n                imagePickLoadArea = this.state.load.show == 1 ? <div className=\"imagePickLoadArea\">\r\n                    <div className=\"loadBar\">\r\n                        <div className=\"loadContent\" style={loadStyle}></div>\r\n                    </div>\r\n                </div> : null,\r\n        //ÊÇ·ñÐèÒªÉ¾³ý\r\n                imagePickDeleArea = (this.props.data.isNeedDele && this.state.img && this.state.isHover == 1) ? <div className=\"imagePickDeleArea\">\r\n                    <a href=\"javascript:;\" className=\"btn btn_warn\" onClick={this.handleClickDele}>删除</a>\r\n                </div> : null;\r\n\r\n        this.state.isHover==1? classArea += ' hover':null;\r\n        if(this.state.isDragover==1){\r\n            classArea += ' dragover';\r\n            this.props.data.text.dragover ? contentPickBtn = this.props.data.text.dragover : null;\r\n        }\r\n        /*mouseover mouseleave·ÅÔÚ imagePick ÕâÒ»²ã»áÒ»Ö±´¥·¢*/\r\n        return (\r\n                <div className={classArea} onMouseOver={this.handleMouseoverPick} onMouseLeave={this.handleMouseleavePick} onDragLeave={this.handleDragLeave} onClick={this.handleClick} onDragOver={this.handleDragOver} onDrop={this.handleDrop}>\r\n                    <div className='imagePick'>\r\n                        <input ref=\"imagePickInput\" onChange={this.handleChange} className=\"imagePickUploader_input\" type=\"file\" />\r\n                        <div className=\"imagePickUploader_btn\">{contentPickBtn}</div>\r\n                        {this.state.img? <img className=\"imagePickUploader_preview\" ref=\"imagePickUploader_preview\" src={this.state.img} /> : null}\r\n                    </div>\r\n                    {imagePickDeleArea}\r\n                    {imagePickLoadArea}\r\n                </div>\r\n        )\r\n\r\n    }\r\n});\r\n\r\n//单文件上传\r\nvar SingleFilePick = React.createClass({\r\n    getInitialState: function(){\r\n        console.log('SingleFilePick getInitialState');\r\n        return ({\r\n            preview: this.props.data.preview,\r\n            load: {\r\n                show: 0,\r\n                progress: 0\r\n            },\r\n            status: '',\r\n            isDragover: 0,\r\n            isHover: 0\r\n        })\r\n    },\r\n    uploading: function(loaded, total){\r\n        console.log('uploading');\r\n        this.setState({\r\n            load: {\r\n                show: 1,\r\n                progress: loaded / total\r\n            }\r\n        })\r\n    },\r\n     upload: function(file){\r\n        console.log('upload');\r\n        (function(file, _this){\r\n            var xhr = new XMLHttpRequest(),\r\n                    reader = new FileReader();\r\n            if (xhr.upload) {\r\n                // ÉÏ´«ÖÐ\r\n                xhr.upload.addEventListener(\"progress\", function(e) {\r\n                    _this.uploading(e.loaded, e.total);\r\n                }, false);\r\n                // ¿ªÊ¼ÉÏ´«\r\n                var data = new FormData();\r\n                for(var item in _this.props.data.requestValue){\r\n                    data.append(item, _this.props.data.requestValue[item]);\r\n                }\r\n                data.append('file', file);\r\n                data.append('name', file.name);\r\n                data.append('type', file.type);\r\n                data.append('lastModifiedDate', file.lastModifiedDate);\r\n                data.append('size', file.size);\r\n                xhr.open(\"POST\", '/cgi-bin/mmemoticonmgr-bin/uploadmedia', true);\r\n                xhr.send(data);\r\n                // ÎÄ¼þÉÏ´«³É¹¦»òÊÇÊ§°Ü\r\n                xhr.onreadystatechange = function(e) {\r\n                    if (xhr.readyState == 4) {\r\n                        if (xhr.status == 200) {\r\n                            _this.response(JSON.parse(xhr.response), 'suc');\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        }(file, this))\r\n    },\r\n    //鼠标事件\r\n    handleMouseoverPick: function(){\r\n\r\n        console.log('handleMouseoverPick');\r\n        this.setState({\r\n            isHover: 1\r\n        });\r\n    },\r\n    handleMouseleavePick: function(){\r\n        console.log('handleMouseleavePick');\r\n        this.setState({\r\n            isHover: 0\r\n        });\r\n    },\r\n    //drap事件\r\n    handleDragOver: function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        console.log('handleDragOver');\r\n        this.setState({\r\n            isDragover: 1\r\n        });\r\n    },\r\n\r\n    handleDrop: function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        this.setState({\r\n            isDragover: 0\r\n        });\r\n        var dt = e.dataTransfer;\r\n        var files = dt.files;\r\n        console.log(JSON.stringify(dt));\r\n        this.showPreview(files[files.length - 1]);\r\n\r\n        var fileStatus = this.checkPattern(files[files.length - 1]);\r\n        if(fileStatus.isPass){//·ûºÏ¸ñÊ½\r\n\r\n            this.upload(files[files.length - 1]);\r\n            files[files.length - 1] = false;\r\n        }else{//²»·ûºÏ¸ñÊ½\r\n            this.response(null, fileStatus.status);\r\n        }\r\n        return false;\r\n    },\r\n    checkPattern: function(file){\r\n        var fileType = file.type,\r\n                response = {};\r\n        \r\n        if(file.name.substring(file.name.length-3, file.name.length) == this.props.data.setting.reg.format){//符合格式\r\n            if(this.props.data.setting.reg.size){\r\n                if(this.props.data.setting.reg.size > file.size){//符合大小\r\n                    response.isPass = true;\r\n                }else{//不符合大小\r\n                    response.isPass = false;\r\n                    response.status = 'oversized';\r\n                    this.setState({\r\n                        status: response.status\r\n                    });\r\n                }   \r\n            }else{\r\n                response.isPass = true;\r\n            }\r\n        }else{\r\n            response.isPass = false;\r\n            response.status = 'format error';\r\n            this.setState({\r\n                status: response.status\r\n            });\r\n        }\r\n        return response;\r\n\r\n    },\r\n    response: function(d, status, name){\r\n        this.setState({\r\n            load: {\r\n                show: 0\r\n            }\r\n        });\r\n        var data = {\r\n            name: name,\r\n            id: this.props.data.setting.id,\r\n            status: status,\r\n            value: d\r\n        };\r\n        this.props.data.handle(data);\r\n    },\r\n    showPreview: function(file){\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function(e){\r\n            this.setState({\r\n                preview: file.name\r\n            });\r\n        }.bind(this)\r\n    },\r\n    upload: function(file){\r\n        (function(file, _this){\r\n            var xhr = new XMLHttpRequest(),\r\n                    reader = new FileReader();\r\n            if (xhr.upload) {\r\n                // ÉÏ´«ÖÐ\r\n                xhr.upload.addEventListener(\"progress\", function(e) {\r\n                    _this.uploading(e.loaded, e.total);\r\n                }, false);\r\n                // ¿ªÊ¼ÉÏ´«\r\n                var data = new FormData();\r\n                for(var item in _this.props.data.setting.request.data){\r\n                    data.append(item, _this.props.data.setting.request.data[item]);\r\n                }\r\n                data.append('file', file);\r\n                data.append('name', file.name);\r\n                data.append('type', file.type);\r\n                data.append('lastModifiedDate', file.lastModifiedDate);\r\n                data.append('size', file.size);\r\n                xhr.open(\"POST\", '/cgi-bin/mmemoticonmgr-bin/uploadmedia', true);\r\n                xhr.send(data);\r\n                // ÎÄ¼þÉÏ´«³É¹¦»òÊÇÊ§°Ü\r\n                xhr.onreadystatechange = function(e) {\r\n                    if (xhr.readyState == 4) {\r\n                        if (xhr.status == 200) {\r\n                            switch(JSON.parse(xhr.response).base_resp.ret){\r\n                                case 0:\r\n                                    _this.setState({\r\n                                        status: 'suc'\r\n                                    });\r\n                                    _this.response(JSON.parse(xhr.response), 'suc', file.name);\r\n                                    break;\r\n\r\n                                default:\r\n                                    _this.setState({\r\n                                        status: 'system error'\r\n                                    });\r\n                                    _this.response(JSON.parse(xhr.response), 'system error', file.name);\r\n                                    break;\r\n                            }\r\n                            \r\n                        }\r\n                    }else {\r\n                        _this.response('', 'system error', file.name);\r\n                    }\r\n                };\r\n            }\r\n        }(file, this))\r\n    },\r\n    handleDragLeave: function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        console.log('handleDragLeave');\r\n        this.setState({\r\n            isDragover: 0\r\n        });\r\n    },\r\n    //删除\r\n    handleClickDele: function(e){\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        var data = {\r\n            id: this.props.data.setting.id,\r\n            status: 'dele',\r\n            value: null\r\n        };\r\n        this.props.data.handle(data);\r\n        this.setState({\r\n            preview: null\r\n        });\r\n    },\r\n    componentWillMount: function(){\r\n        console.log('single componentWillMount');\r\n    },\r\n    render: function(){\r\n        var classArea = this.props.data.setting.classname ? 'filePickArea ' + this.props.data.setting.classname : 'filePickArea',\r\n            loadStyle = {\r\n                width: this.state.load.progress * 100 + '%'\r\n            },\r\n            uploaderBtnContent = <div className=\"filePickUploader_btn\">\r\n                <div className=\"ic\"></div>\r\n                <div className=\"text\">点击或拖拽上传</div>\r\n            </div>,\r\n            errMsg = '';\r\n            /*filePickDeleArea = (this.props.data.isNeedDele && this.state.img && this.state.isHover == 1) ? <div className=\"filePickDeleArea\">\r\n                    <a href=\"javascript:;\" className=\"btn btn_warn\" onClick={this.handleClickDele}>删除</a>\r\n                </div> : null,\r\n            filePickLoadArea = this.state.load.show == 1 ? <div className=\"filePickLoadArea\">\r\n                    <div className=\"loadBar\">\r\n                        <div className=\"loadContent\" style={loadStyle}></div>\r\n                    </div>\r\n                </div> : null;*/\r\n\r\n        switch(this.state.status){\r\n            case 'format error':\r\n                errMsg = '文件格式不正确';\r\n                break;\r\n\r\n            case 'oversized':\r\n                errMsg = '文件超过大小';\r\n                break;\r\n\r\n            case 'system error':\r\n                errMsg = '系统错误';\r\n                break;\r\n        }\r\n        classArea = this.state.isHover ? classArea + ' hover' : classArea;\r\n        uploaderBtnContent = this.state.load.show ? <div className=\"filePickLoadArea\">\r\n                    <div className=\"loadBar\">\r\n                        <div className=\"loadContent\" style={loadStyle}></div>\r\n                    </div>\r\n                </div> : this.state.isDragover ? <div className=\"filePickUploader_btn dragOver\">\r\n                    释放鼠标\r\n                </div> : uploaderBtnContent;\r\n        return (\r\n            <div className=\"fileUploaderGroup\">\r\n                {this.props.data.setting.label ? <label className=\"frm_label\">{this.props.data.setting.label}</label>:null}\r\n                <div className={classArea} onMouseOver={this.handleMouseoverPick} onMouseLeave={this.handleMouseleavePick} onDragLeave={this.handleDragLeave} onClick={this.handleClick} onDragOver={this.handleDragOver} onDrop={this.handleDrop}>\r\n                    <div className='filePick'>\r\n                        <input ref=\"filePickInput\" onChange={this.handleChange} className=\"filePickUploader_input\" type=\"file\" />\r\n                        {uploaderBtnContent}\r\n\r\n                    </div>\r\n                    {this.state.preview ? <div className=\"previewContainer\">\r\n                            {this.state.status != 'suc' || !this.state.status ? <i className=\"ic_err\"></i> : null}\r\n                            {this.state.preview}\r\n                            <span className=\"errMsg\">{errMsg}</span>\r\n                            <a className=\"link_dele\" href=\"javascript:;\" onClick={this.handleClickDele}>删除</a>\r\n                        </div> : null}\r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n});\r\n\r\nvar Inner = React.createClass({\r\n    getInitialState: function(){\r\n        return ({\r\n            isOpen: {\r\n                ImagePick: false,\r\n                SingleFilePick: false\r\n            },\r\n            ImagePick1ImagePick: {\r\n                setting: {\r\n                    id: 'ImagePick',\r\n                    classname: 'imagepickerClassName',\r\n                    label: '我是ImagePicker的label',\r\n                    text: {\r\n                        normal: '点击上传',\r\n                        hover: '释放鼠标'\r\n                    },\r\n                    reg: {\r\n                        format: 'png',\r\n                        size: 1024 * 1024,\r\n                    },\r\n                    request: {//请求\r\n                        url: '/cgi-bin/mmemoticonmgr-bin/uploadmedia',\r\n                        data: {\r\n                            mediaType: 123,\r\n                            mediaType2: 223,\r\n                            mediaType3: 323\r\n                        }\r\n                    }\r\n                },\r\n                value: null,\r\n                preview: '',\r\n                handle: this.handle\r\n            },\r\n            ImagePick: {\r\n                extendClass: 'imagePickExtendClass tc',//Ñ¡Ìî£¬string£¬À©Õ¹class\r\n                img: 'https://sticker.weixin.qq.com/htdocs/zh_CN/images/index/home_item127602b.png',//有需要预览的时候才加\r\n                reg: {\r\n                    format: 'png',//±ØÌî£¬string£¬ÏÞÖÆµÄÍ¼Æ¬¸ñÊ½\r\n                    size: 12 * 1024//Ñ¡Ìî£¬int£¬ÏÞÖÆÍ¼Æ¬µÄ´óÐ¡\r\n                },\r\n                text: {\r\n                    dragover: '松开鼠标'//Ñ¡Ìî£¬string£¬Êó±êÍÏÍ¼Æ¬µ½×é¼þÊ±ºòµÄwording\r\n                },\r\n                isNeedDele: true,//Ñ¡Ìî£¬boolean£¬ÊÇ·ñÐèÒªÉ¾³ý²Ù×÷\r\n                request: '/cgi-bin/mmemoticonmgr-bin/uploadmedia',//±ØÌî£¬string£¬Í¼Æ¬ÉÏ´«cgi\r\n                requestValue: {//Ñ¡Ìî£¬object£¬postÒª´øµÄ×Ö¶Î\r\n                    mediaType: 123,\r\n                    mediaType2: 223,\r\n                    mediaType3: 323\r\n                },\r\n                responseValue: {//Ñ¡Ìî£¬object£¬Òª´ø»ØÀ´µÄÖµ\r\n                    id: 'ImagePick',\r\n                    v: '带回来啦'\r\n                },\r\n                handle: this.handleImageChange//±ØÌî£¬object£¬Í¼Æ¬ÉÏ´«·µ»Ø´¥·¢µÄÊÂ¼þ£¬·µ»Øid¡¢cgi·µ»ØÖµ\r\n            },\r\n            SingleFilePick: {\r\n                setting: {\r\n                    label: '我是SingleFilePick的label',\r\n                    id: 'SingleFilePick',\r\n                    classname: 'singlePickerClassName',\r\n                    label: '我是单文件上传的label',\r\n                    reg: {//限制条件\r\n                        format: 'zip', //文件格式\r\n                        size: 1024 * 1024 * 1024 * 1024//文件大小\r\n                    },\r\n                    request: {//请求\r\n                        url: '/cgi-bin/mmemoticonmgr-bin/uploadmedia',\r\n                        data: {\r\n                            mediaType: 123,\r\n                            mediaType2: 223,\r\n                            mediaType3: 323\r\n                        }\r\n                    }\r\n                },\r\n                handle: this.handleFile,\r\n                value: null,\r\n                preview: ''//预览的内容\r\n            },\r\n            result: {\r\n                ImagePick: '',\r\n                SingleFilePick: ''\r\n            }\r\n        })\r\n    },\r\n    //文件上传handle\r\n    handleFile: function(v){\r\n        var stateResult = this.state.result;\r\n        stateResult[v.id] = JSON.stringify(v);\r\n        this.setState({\r\n            result: stateResult\r\n        });\r\n    },  \r\n    handleImageChange: function(v){\r\n        var stateResult = this.state.result;\r\n        stateResult[v.index.id] = JSON.stringify(v);\r\n        this.setState({\r\n            result: stateResult\r\n        });\r\n    },\r\n    handleClickOpenSetting: function(index, e){\r\n        var stateIsopen = this.state.isOpen;\r\n        stateIsopen[index] = !stateIsopen[index];\r\n        \r\n        this.setState({\r\n            isOpen: stateIsopen\r\n        });\r\n    },\r\n    render: function(){\r\n        var settingImagePick = JSON.stringify(this.state.ImagePick, null, '\\t'),\r\n            settingSingleFilePick = JSON.stringify(this.state.SingleFilePick, null, '\\t');\r\n        return (\r\n            <div className=\"inner\">\r\n                <h3 className={this.state.isOpen.ImagePick ? 'title_Widget open' : 'title_Widget close'} onClick={this.handleClickOpenSetting.bind(this, 'ImagePick')}>fileUploader.ImagePick</h3>\r\n                {this.state.isOpen.ImagePick ? <pre className=\"setting\">{settingImagePick}</pre> : null}\r\n                <ImagePick data={this.state.ImagePick} />\r\n                <p className=\"result\">\r\n                    结果是：\r\n                    <br />\r\n                    {this.state.result.ImagePick}\r\n                </p>\r\n                <br />\r\n                <br />\r\n                <br />\r\n\r\n                <h3 className={this.state.isOpen.SingleFilePick ? 'title_Widget open' : 'title_Widget close'} onClick={this.handleClickOpenSetting.bind(this, 'SingleFilePick')}>fileUploader.SingleFilePick</h3>\r\n                {this.state.isOpen.SingleFilePick ? <pre className=\"setting\">{settingSingleFilePick}</pre> : null}\r\n                <SingleFilePick data={this.state.SingleFilePick} />\r\n                <p className=\"result\">\r\n                    结果是：\r\n                    <br />\r\n                    {this.state.result.SingleFilePick}\r\n                </p>\r\n                <br />\r\n                <br />\r\n                <br />\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nReact.render(\r\n        <Inner />,\r\n        document.getElementById('inner')\r\n);\r\n\r\nexport {ImagePick, SingleFilePick, Inner};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./F:/一些尝试/component/webpack_package/src/widgets/fileUploader/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/fileUploader/index.less\n// module id = 23\n// module chunks = 0 6"],"sourceRoot":""}